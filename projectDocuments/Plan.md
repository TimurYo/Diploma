# План системного тестирования продукта

## 1. Перечень автоматизируемых сценариев

## UI-тестирование:

Сервис покупки тура предлагает его приобретения как с помощью обычной оплаты, так с помощью кредит.
Лиф-формы и результаты их заполнения идентичны, за исключением выбора способа оплаты.
Ожидаемые результаты проверок соответственно тоже идентичны.
Поэтому далее будет описана общая схема тест-сценариев с пометкой в шагах воспроизведения "Купить"/"Купить в кредит".
Это значит, что данный тест необходимо провести 2 раза, как с первым вариантом выполнения шага, так и со вторым.

Лид-форма содержит 5 полей для заполнения (номер карты, месяц выдачи карты, год выдачи карты, владелец, CVC/CVV ).
Тесты будут направлены на проверку каждого поля по основным параметрам - количество символов, формат символов, язык
ввода.

### Сценарии с валидными данными:

**1. Оплата с помощью валидной одобренной (approved) карты**

Шаги по воспроизведению:

1. Открыть ссылку http://localhost:8080
2. На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"
3. В поле "Номер карты" ввести "4444 4444 4444 4441"
4. В поле "Месяц" ввести "12"
5. В поле "Год" ввести "23"
6. В поле "Владелец" ввести "Dmitry Ivanov"
7. В поле "CVC/CVV" ввести "335"
8. Нажать на кнопку "Продолжить"

_Ожидаемый результат:_ появляется pop-up-блок с текстовым сообщением "Успешно. Операция одобрена банком"

**2. Оплата с помощью валидной отклоненной (declined) карты**

Шаги по воспроизведению:

1. Открыть ссылку http://localhost:8080
2. На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"
3. В поле "Номер карты" ввести "4444 4444 4444 4442"
4. В поле "Месяц" ввести "12"
5. В поле "Год" ввести "23"
6. В поле "Владелец" ввести "Dmitry Ivanov"
7. В поле "CVC/CVV" ввести "335"
8. Нажать на кнопку "Продолжить"

_Ожидаемый результат:_ появляется pop-up-блок с текстовым сообщением "Ошибка! Банк отказал в проведении операции".

### Сценарии с невалидными данными:

**0. Сценарий отправки пустой формы**

Шаги по воспроизведению:

1. Открыть ссылку http://localhost:8080
2. На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"
3. Поля "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV" оставить пустыми
4. Нажать на кнопку "Продолжить"

_Ожидаемый результат:_

* под полем "Номер карты" появляется сообщение "Неверный формат",
* под полем "Месяц" появляется сообщение "Неверный формат",
* под полем "Год" появляется сообщение "Неверный формат",
* под полем "CVC/CVV" появляется сообщение "Неверный формат",
* под полем "Владелец" появляется сообщение "Поле обязательно для заполнения"
* отправка формы на сервер невозможна

**1. Сценарии тестирования поля "Номер карты"**

Шаги воспроизведения сценариев одинаковы, за исключением шага заполнения поля "Номер карты".  
Поэтому
см. [шаги воспроизведения из тест-сценариев с валидными данными](https://github.com/TimurYo/Diploma/blob/f39c4d79fef1664175489f1d2ea13c6fe3d35168/projectDocuments/Plan.md?plain=1#L22-L31),
за исключением пункта 3.

**1.1 Сценарий ввода одного числа в поле "Номер карты"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №3 - Ввести "1" в поле "Номер карты"

_Ожидаемый результат:_ под полем "Номер карты" появляется сообщение "Неверный формат".

**1.2 Сценарий ввода 14-значного числа в поле "Номер карты" (поле учитывает 16-значное число)**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №3 - Ввести "44444444444444" в поле "Номер карты"

_Ожидаемый результат:_ под полем "Номер карты" появляется сообщение "Неверный формат".

**1.3 Сценарий ввода 16-значного числа, состоящего из нулей в поле "Номер карты"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №3 - Ввести "0000000000000000" в поле "Номер карты"

_Ожидаемый результат:_ появляется pop-up-блок с текстовым сообщением "Ошибка! Банк отказал в проведении операции".

**1.4 Сценарий ввода текста в поле "Номер карты"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку ""Купить"/"Купить в кредит"

Шаг №3 - Ввести "Номер карты" в поле "Номер карты"

_Ожидаемый результат:_ под полем "Номер карты" появляется сообщение "Неверный формат".

**1.5 Сценарий ввода символьных значений в поле "Номер карты"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №3 - Ввести ";%?%№;;№;%:?" в поле "Номер карты"

_Ожидаемый результат:_ под полем "Номер карты" появляется сообщение "Неверный формат".

**2. Сценарии тестирования поля "Месяц"**
Шаги воспроизведения сценариев одинаковы, за исключением шага выбора способа оплаты и
заполнения поля "Месяц".
Поэтому
см. [шаги воспроизведения из тест-сценариев с валидными данными](https://github.com/TimurYo/Diploma/blob/f39c4d79fef1664175489f1d2ea13c6fe3d35168/projectDocuments/Plan.md?plain=1#L22-L31),
за исключением пункта 4.

**2.1 Сценарий ввода нулевого значения в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "00" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверный формат".

**2.2 Сценарий ввода значения из 1 числа в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "1" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверный формат".

**2.3 Сценарий ввода буквенного значения в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "Месяц" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверный формат".

**2.4 Сценарий ввода значения, состоящего из специальных символов в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "$%^&*)(&^%" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверный формат".

**2.5 Сценарий ввода "13" в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "13" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверно указан срок действия карты".

**2.6 Сценарий ввода "25" в поле "Месяц"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №4 - Ввести "25" в поле "Месяц"

_Ожидаемый результат:_ под полем "Месяц" появляется сообщение "Неверно указан срок действия карты".

**3. Сценарии тестирования поля "Год"**

Шаги воспроизведения сценариев одинаковы, за исключением шага выбора способа оплаты и заполнения поля "Год".  
Поэтому
см. [шаги воспроизведения из тест-сценариев с валидными данными](https://github.com/TimurYo/Diploma/blob/f39c4d79fef1664175489f1d2ea13c6fe3d35168/projectDocuments/Plan.md?plain=1#L22-L31),
за исключением пунктов 2 и 5.

**3.1 Сценарий ввода нулевого значения в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "0" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Неверный формат".

**3.2 Сценарий ввода "1" значения в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "1" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Неверный формат".

**3.3 Сценарий ввода буквенного значения в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "Год" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Неверный формат".

**3.4 Сценарий ввода значения, состоящего из специальных символов, в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "^%&)$%" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Неверный формат".

**3.5 Сценарий ввода граничного значения "22" в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "22" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Истек срок действия карты".

**3.6 Сценарий ввода "10" в поле "Год"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №5 - Ввести "10" в поле "Года"

_Ожидаемый результат:_ под полем "Год" появляется сообщение "Истек срок действия карты".

**4. Сценарии тестирования поля "CVC/CVV"**

Шаги воспроизведения сценариев одинаковы, за исключением шага выбора способа оплаты и заполнения поля "CVV/CVV".  
Поэтому
см. [шаги воспроизведения из тест-сценариев с валидными данными](https://github.com/TimurYo/Diploma/blob/f39c4d79fef1664175489f1d2ea13c6fe3d35168/projectDocuments/Plan.md?plain=1#L22-L31),
за исключением пунктов 2 и 7.

**4.1 Сценарий ввода единичного значения в поле "CVC/CVV"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №7 - Ввести "1" в поле "CVC/CVV"

_Ожидаемый результат:_ под полем "CVC/CVV" появляется сообщение "Неверный формат".

**4.2 Сценарий ввода двузначного значения в поле "CVC/CVV"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №7 - Ввести "11" в поле "CVC/CVV"

_Ожидаемый результат:_ под полем "CVC/CVV" появляется сообщение "Неверный формат".

**4.3 Сценарий ввода трехзначного нулевого значения в поле "CVC/CVV"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №7 - Ввести "000" в поле "CVC/CVV"

_Ожидаемый результат:_ под полем "CVC/CVV" появляется сообщение "Неверный формат".

**4.4 Сценарий ввода буквенного значения в поле "CVC/CVV"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №7 - Ввести "CVC" в поле "CVC/CVV"

_Ожидаемый результат:_ под полем "CVC/CVV" появляется сообщение "Неверный формат".

**4.5 Сценарий ввода единичного значения в поле "CVC/CVV"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №7 - Ввести "%$^(&^" в поле "CVC/CVV"

_Ожидаемый результат:_ под полем "CVC/CVV" появляется сообщение "Неверный формат".

**5. Сценарии тестирования поля "Владелец"**

Шаги воспроизведения сценариев одинаковы, за исключением шага выбора способа оплаты и заполнения поля "Владелец".  
Поэтому
см. [шаги воспроизведения из тест-сценариев с валидными данными](https://github.com/TimurYo/Diploma/blob/f39c4d79fef1664175489f1d2ea13c6fe3d35168/projectDocuments/Plan.md?plain=1#L22-L31),
за исключением пунктов 2 и 6.

**5.1 Сценарий ввода имени на английском с числовыми значениями в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "Dmitry123 Ivanov" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.2 Сценарий ввода имени на английском со значением, состоящим из специальных знаков, в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "$%&(*^%$#&*(^%#Dmitry Ivanov" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.3 Сценарий ввода имени на арабском языке в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "تقديم نموذج فارغ" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.4 Сценарий ввода значения из 1 буквы в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "D" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.5 Сценарий ввода числового значения в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "1213" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.6 Сценарий ввода значения, состоящего из специальных символов, в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести ":%::(" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.7 Сценарий ввода значения, превышающего 254 знака, в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "QwertyuiopasdfghjklzxcvbnmQwertyuiopasdfghjklzxcvbsnmQwertyuiopasdf
ghjklzxcvbnmQwertyuiopasdfghjklzxcvbnmQwertyuiopasdfghjklzxcvbnmQwertyuiopasdfghjklz
xcvbnmQwertyuiopasdfghjklzxcvbnmQwertyuiopasdfghjklzxcvbnmQwertyuiopasdfghjklzxcvbnm
Qwertyuiopasdfghjklzxg" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

**5.8 Сценарий ввода имени на русском языке в поле "Владелец"**

Шаги воспроизведения:

Шаг №2 - На открывшейся странице кликнуть на кнопку "Купить"/"Купить в кредит"

Шаг №6 - Ввести "Дмитрий Иванов" в поле "Владелец"

_Ожидаемый результат:_ под полем "Владелец" появляется сообщение "Неверный формат".

## API-тестирование

Так как SUT представляет собой комплекс из 3 составляющих: клиент - сервер - база данных, необходимо проверить
взаимодействие между клиентом и сервером.
Для этого потребуется 4 теста с запросами к системам Payment Gate (обрабатывает запросы на покупку при обычной оплате) и
Credit Gate (обрабатывает запросы на покупку через кредитование) с помощью валидных карт со статусом Approved и карты со
статусом Declined.

**1. Тест-сценарий проверки ответа при использовании карты со статусом Approved при покупке тура обычным способом**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос по URL-адресу  http://localhost:8080/api/v1/pay.

_Ожидаемый результат:_ получение кода ответа сервера 200 и подтверждение Approved - статуса карты "4444 4444 4444 4441"

**2. Тест-сценарий проверки ответа при использовании карты со статусом Declined при покупке тура обычным способом**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4442",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос по URL-адресу  http://localhost:8080/api/v1/pay.

_Ожидаемый результат:_ получение кода ответа сервера 200 и подтверждение Declined - статуса карты "4444 4444 4444 4442"

**3. Тест-сценарий проверки ответа при использовании карты со статусом Approved при покупке в кредит**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос по URL-адресу  http://localhost:8080/api/v1/credit.

_Ожидаемый результат:_ получение кода ответа сервера 200 и подтверждение Approved - статуса карты "4444 4444 4444 4441"

**3. Тест-сценарий проверки ответа при использовании карты со статусом Declined при покупке в кредит**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4442",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос по URL-адресу  http://localhost:8080/api/v1/credit.

_Ожидаемый результат:_ получение кода ответа сервера 200 и подтверждение Declined - статуса карты "4444 4444 4444 4442"

## Тестирование баз данных

SUT поддерживает 2 СУБД: MySQL и PostgeSQL.
Структура хранения данных в системах управления БД идентична: 3 таблицы: credit_request_entity, order_entity,
payment_entity,
отличается только схема подключение к той или иной СУБД (описание подключения дано
по [ссылке](https://github.com/TimurYo/Diploma/blob/75e4eed680c4874298d5154f30d75148e1984b98/README.md?plain=1#L84-L130)).
Ожидаемые результаты проверок соответственно тоже идентичны.
Поэтому будет описана общая схема тестирования.

Структура каждой из таблиц:

* Таблица "credit_request_entity" хранит данные о подтвержденных покупках туров в кредит. Состоит из 4 столбцов: id (id
  покупки), bank id (id кредитной линии), created (время и дата записи), status (статус карты, с помощью которой
  произведена оплата)
* Таблица "payment_entity" хранит данные о подтвержденных покупках туров через обычную оплату. Состоит из 5 столбцов:
  id (id покупки), amount (сумма покупки), created (время и дата записи), status (статус карты), transaction id (id
  транзакции)
* Таблица "order_entity" хранит данные о подтвержденных транзакциях как через кредит, так и через обычную оплату.
  Состоит из 4 столбцов: id (id транзакции), created (время и дата записи), credit id (id кредитной линии), payment id (
  id покупки по обычной оплате)

Исходя из структуры требуется протестировать корректность записи данных в каждой таблице и почти в каждом столбце.

**1. Тестирование таблицы credit_payment_entity**

Потребуется 3 теста: проверка даты и времени создания (столбец created), проверка статуса Approved-карты и
проверка статуса Declined-карты (столбец status)
Тесты на столбцы id и bank id невозможны, так как до выполнения записи в БД нам неизвестны эти данные, данные -
результат авто-генерации.

**1.1 Проверка корректности даты и времени создания записи в БД**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Время и дата записи (данные столбца created) таблицы credit_payment_entity
не отличаются от времени и даты по МСК на 3 секунды.

**1.2 Проверка корректности заполнения столбца статуса карты при покупке по Approved - карте**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом Status таблицы credit_payment_entity
содержит статус Approved

**1.3 Проверка корректности заполнения столбца статуса карты при покупке по Declined - карте**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4442",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом Status таблицы credit_payment_entity
содержит статус Declined

**2. Тестирование таблицы payment_entity**

Потребуется 4 теста: проверка корректности суммы перевода (столбец amount), проверка даты и времени создания (столбец
created), проверка статуса Approved-карты и
проверка статуса Declined-карты (столбец status)
Тесты на столбцы id и transaction id невозможны, так как до выполнения записи в БД нам неизвестны эти данные, данные -
результат авто-генерации.

**2.1 Проверка корректности записи суммы перевода в БД**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом Amount таблицы payment_entity
содержит значение "4500000".

**2.2 Проверка корректности даты и времени создания записи в БД**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Время и дата записи (данные столбца created) таблицы payment_entity не отличаются от времени и
даты по МСК на 3 секунды.

**2.3 Проверка корректности заполнения столбца статуса карты при покупке по Approved - карте**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом Status таблицы payment_entity содержит статус Approved

**2.4 Проверка корректности заполнения столбца статуса карты при покупке по Declined - карте**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4442",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом Status таблицы payment_entity содержит статус Declined

**3. Тестирование таблицы order_entity**

Потребуется 5 тестов:

* Проверка корректности времени и даты записи при покупке обычным способом
* Проверка корректности времени и даты записи при покупке по кредитной линии
* Проверка идентичности значения в столбце id в таблице payment_entity и id в таблице order_entity
* Проверка идентичности значения в столбце id в таблице credit_payment_entity и id в таблице order_entity
* Проверка идентичности значения в столбце transaction id в таблице payment_entity и payment id в таблице order_entity
* Проверка идентичности значения в столбце bank id в таблице credit_payment_entity и credit id в таблице order_entity
* Проверка идентичности значения времени и даты записи в столбце created в таблице payment_entity и created в таблице
  order_entity
* Проверка идентичности значения времени и даты записи в столбце created в таблице credit_payment_entity и created в
  таблице order_entity

**3.1 Проверка корректности времени и даты записи при покупке обычным способом**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом created таблицы order_entity содержит значение, не
отличающееся от времени и
даты по МСК на 3 секунды.

**3.2 Проверка корректности времени и даты записи при покупке по кредитной линии**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом created таблицы order_entity содержит значение, не
отличающееся от времени и
даты по МСК на 3 секунды.

**3.3 Проверка идентичности значения в столбце id в таблице payment_entity и id в таблице order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом id таблицы order_entity содержит значение идентичное
значению записи под столбцом id таблицы payment_entity

**3.4 Проверка идентичности значения в столбце id в таблице credit_payment_entity и id в таблице order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом id таблицы order_entity содержит значение идентичное
значению записи под столбцом id таблицы credit_payment_entity

**3.5 Проверка идентичности значения в столбце transaction id в таблице payment_entity и payment id в таблице
order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом payment id таблицы order_entity содержит значение
идентичное
значению записи под столбцом transaction id таблицы payment_entity

**3.6 Проверка идентичности значения в столбце bank id в таблице credit_payment_entity и credit id в таблице
order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом credit id таблицы order_entity содержит значение
идентичное
значению записи под столбцом bank id таблицы credit_payment_entity

**3.7 Проверка идентичности значения времени и даты записи в столбце created в таблице payment_entity и created в
таблице
order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом created таблицы order_entity содержит значение, не
отличающееся более чем на 3 секунды от значения записи под столбцом created таблицы payment_entity

**3.8 Проверка идентичности значения времени и даты записи в столбце created в таблице credit_payment_entity и created в
таблице
order_entity**

Шаги воспроизведения:

1. Открыть страницу по ссылке http://localhost:8080/
2. Заполнить нажать на кнопку "Купить в кредит"
3. Заполнить поля следующими данными: "Номер карты - 4444 4444 4444 4441",
   "Месяц - 12", "Год - 23", "Владелец" - "Dmitry Ivanov", "CVV" - "332".
4. Нажать на кнопку "Продолжить" и дождаться pop-up-блока с текстовым сообщением "Успешно. Операция одобрена банком"
5. Выполнить запрос в БД

_Ожидаемый результат:_ Ячейка соответствующей записи под столбцом created таблицы order_entity содержит значение, не
отличающееся более чем на 3 секунды от значения записи под столбцом created таблицы credit_payment_entity





















